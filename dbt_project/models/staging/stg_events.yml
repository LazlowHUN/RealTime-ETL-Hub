models:
  - name: stg_events
    description: "Parsed events extracted from RAW.EVENTS_JSON"
    columns:
      - name: event_id
        description: "Unique id for every event"
        tests:
          - not_null
          - unique

      - name: event_type
        description: "Type of each event (view / click / purchase / ...)"
        tests:
          - not_null
          - accepted_values:
              values: ['view', 'add_to_cart', 'purchase']

      - name: user_id
        description: "User id"
        tests:
          - not_null

      - name: product_id
        description: "Product id"
        tests:
          - not_null

      - name: ts
        description: "Event timestamp"
        tests:
          - not_null

      - name: is_valid
        description: "Validation flag"
        tests:
          - not_null
